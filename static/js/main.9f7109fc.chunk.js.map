{"version":3,"sources":["components/book-form/book-form.module.scss","components/nav/nav.module.scss","components/text-input/text-input.module.scss","components/img-input/img-input.module.scss","components/star/star.module.scss","components/book-preview/book-preview.module.scss","app/app.module.scss","components/rating/rating.module.scss","context/book-context.tsx","components/nav/index.tsx","components/star/index.tsx","components/rating/index.tsx","components/book-preview/index.tsx","components/book-list/index.tsx","pages/main.tsx","components/text-input/index.tsx","components/img-input/index.tsx","components/book-form/controls.tsx","components/book-form/validations/author-validation.tsx","components/book-form/validations/desc-validation.tsx","components/book-form/validations/isbn-validation.tsx","components/book-form/validations/title-validation.tsx","components/book-form/validations/year-validation.tsx","components/book-form/index.tsx","pages/add-book.tsx","pages/book.tsx","app/index.tsx","index.tsx"],"names":["module","exports","form","btn","list","link","label","input","active","invalid","wrapper","img","star","button","header","BookContext","React","createContext","books","addBook","updateBook","Nav","react_default","a","createElement","className","style","item","react_router_dom","to","Star","props","value","onClick","onMouseEnter","onMouseLeave","disabled","type","cn","Object","defineProperty","height","width","viewBox","points","fillRule","Rating","_props$value","editing","onDataChange","_useState","useState","_useState2","slicedToArray","hoverRating","setHoverRating","useEffect","newValue","map","num","key","BookPreview","_props$book","book","id","rating","title","concat","components_rating","BookList","book_preview","Main","context","useContext","book_list","TextInput","_cn","name","data","valid","placeholder","isValid","setIsValid","onChange","e","target","autoComplete","ImgInput","reader","FileReader","onload","url","result","files","readAsDataURL","src","process","alt","Controls","creating","setEditing","onAdd","onUpdate","authorValidation","test","descValidation","ISBNValidation","titleValidation","yearValidation","nullData","description","author","ISBN","year","cover","undefined","BookForm","_props$data","_props$creating","history","_useState3","_useState4","state","setState","_useState5","_useState6","setValid","temp","objectSpread","validateFields","img_input","text_input","controls","checkObj","values","some","check","push","AddBook","book_form","Book","setBook","match","params","find","Number","App","setBooks","currentId","setCurrentId","fetchBooks","_ref","asyncToGenerator","regenerator_default","mark","_callee","_ref2","wrap","_context","prev","next","fetch","then","res","json","sent","abrupt","stop","apply","this","arguments","getLocalBooks","cachedHits","localStorage","getItem","JSON","parse","_ref3","_callee2","newBooks","idx","_context2","length","getBooks","book_context","Provider","index","findIndex","toConsumableArray","slice","setItem","stringify","newBook","nav","react_router","exact","path","component","ReactDOM","render","basename","app","document","getElementById"],"mappings":"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","file":"static/js/main.9f7109fc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"book-form_form__3gdUm\",\"btn\":\"book-form_btn__1BxwG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"nav_list__1hzkW\",\"link\":\"nav_link__2H2KV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"text-input_label__Z-MsG\",\"input\":\"text-input_input__1J16E\",\"active\":\"text-input_active__3qwLr\",\"invalid\":\"text-input_invalid__2yM5V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"img-input_wrapper__2gImj\",\"input\":\"img-input_input__2s_Y8\",\"label\":\"img-input_label__1ev2W\",\"active\":\"img-input_active__2JZdK\",\"img\":\"img-input_img__120ap\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"star_input__229qD\",\"star\":\"star_star__x8KrF\",\"button\":\"star_button__ziVM6\",\"active\":\"star_active__2DacK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"book-preview_link__194-m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"app_wrapper__1RGoN\",\"header\":\"app_header__3BcIr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"rating_wrapper__1lNfw\"};","import React from 'react'\n\nexport interface IBook {\n  ISBN: string\n  author: string\n  cover?: string\n  description: string\n  rating?: number\n  title: string\n  year?: string\n  id?: number\n}\n\ninterface IContext {\n  books: IBook[]\n  addBook: (data: IBook) => void\n  updateBook: (data: IBook, id: number) => void\n}\n\nconst BookContext = React.createContext<IContext>({\n  books: [],\n  addBook: () => undefined,\n  updateBook: () => undefined,\n})\n\nexport default BookContext\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport style from './nav.module.scss'\n\nconst Nav = () => {\n  return (\n    <ul className={style.list}>\n      <li className={style.item}>\n        <Link to='/' className={style.link}>\n          Главная страница\n        </Link>\n      </li>\n      <li className={style.item}>\n        <Link to='/add-book' className={style.link}>\n          Добавить книгу\n        </Link>\n      </li>\n    </ul>\n  )\n}\n\nexport default Nav\n","import React from 'react'\nimport style from './star.module.scss'\nimport cn from 'classnames'\n\ninterface IProps {\n  value: number\n  onClick: (value: number) => void\n  onMouseEnter: (value: number) => void\n  onMouseLeave: () => void\n  active: boolean\n  disabled: boolean\n}\n\nconst Star = (props: IProps) => {\n  const { value, onClick, onMouseEnter, onMouseLeave, active, disabled } = props\n\n  const onButtonClick = () => onClick(value)\n  const onButtonEnter = () => onMouseEnter(value)\n  const onButtonLeave = () => onMouseLeave()\n\n  return (\n    <button\n      type='button'\n      value={value}\n      onClick={onButtonClick}\n      className={cn(style.button, { [style.active]: active })}\n      disabled={disabled}\n      onMouseEnter={onButtonEnter}\n      onMouseLeave={onButtonLeave}\n    >\n      <svg height='25' width='23' viewBox='0 0 20 19' className={style.star}>\n        <polygon\n          points='9.9, 0, 3.3, 20.7, 19.8, 7.5, 0, 7.5, 16.5, 20.7'\n          style={{ fillRule: `nonzero` }}\n        />\n      </svg>\n    </button>\n  )\n}\n\nexport default Star\n","import React, { useState, useEffect } from 'react'\nimport Star from '../star'\nimport style from './rating.module.scss'\n\ninterface IProps {\n  value: number | undefined\n  editing?: boolean\n  onDataChange?: (name: string, value: number) => void\n}\n\nconst Rating = (props: IProps) => {\n  const { value = 0, editing, onDataChange } = props\n  const [hoverRating, setHoverRating] = useState(value)\n\n  useEffect(() => {\n    setHoverRating(value)\n  }, [value])\n\n  const onClick = (newValue: number) => {\n    onDataChange && onDataChange(`rating`, newValue)\n  }\n\n  const onMouseEnter = (newValue: number) => {\n    if (!editing) {\n      return\n    }\n    setHoverRating(newValue)\n  }\n\n  const onMouseLeave = () => {\n    if (!editing) {\n      return\n    }\n    setHoverRating(value)\n  }\n\n  const renderStars = () => {\n    const arr = [1, 2, 3, 4, 5]\n    return arr.map((num) => (\n      <Star\n        key={num}\n        onClick={onClick}\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n        value={num}\n        active={hoverRating >= num}\n        disabled={!editing}\n      />\n    ))\n  }\n\n  return <div className={style.wrapper}>{renderStars()}</div>\n}\n\nexport default Rating\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Rating from '../rating'\nimport style from './book-preview.module.scss'\nimport { IBook } from 'Context/book-context'\n\ninterface IProps {\n  book: IBook\n}\n\nconst BookPreview = (props: IProps) => {\n  const { id, rating, title } = props.book\n\n  return (\n    <Link to={`/${id}`} className={style.link}>\n      <h3 className={style.title}>{title}</h3>\n      {rating && <Rating value={rating} />}\n    </Link>\n  )\n}\n\nexport default BookPreview\n","import React from 'react'\nimport BookPrewiew from '../book-preview'\nimport { IBook } from 'Context/book-context'\n\ninterface IProps {\n  books: IBook[]\n}\n\nconst BookList = (props: IProps) => {\n  const { books } = props\n\n  const renderList = () =>\n    books.map((book) => (\n      <li key={book.id}>\n        <BookPrewiew book={book} />\n      </li>\n    ))\n\n  return <ul className='list'>{renderList()}</ul>\n}\n\nexport default BookList\n","import React, { useContext } from 'react'\nimport BookList from '../components/book-list'\nimport BookContext from 'Context/book-context'\n\nconst Main = () => {\n  const context = useContext(BookContext)\n\n  return (\n    <div>\n      <BookList books={context.books} />\n    </div>\n  )\n}\n\nexport default Main\n","import React, { useState, useEffect, ChangeEvent } from 'react'\nimport style from './text-input.module.scss'\nimport cn from 'classnames'\n\ninterface IProps {\n  name: string\n  data: string | undefined\n  editing: boolean\n  onDataChange: (name: string, value: string) => void\n  valid: boolean\n  placeholder: string\n}\n\nconst TextInput = (props: IProps) => {\n  const { name, data, editing, onDataChange, valid, placeholder } = props\n  const [isValid, setIsValid] = useState(true)\n\n  const onChange = (e: ChangeEvent<HTMLInputElement>) => {\n    onDataChange(name, e.target.value)\n    if (!isValid) setIsValid(true)\n  }\n\n  useEffect(() => {\n    setIsValid(valid)\n  }, [valid])\n\n  return (\n    <label className={style.label}>\n      <span className={style.name}>{name}</span>\n      <input\n        className={cn(style.input, {\n          [style.invalid]: !isValid,\n          [style.active]: editing,\n        })}\n        type='text'\n        name={name}\n        value={data}\n        disabled={!editing}\n        onChange={onChange}\n        placeholder={placeholder}\n        autoComplete='off'\n      />\n    </label>\n  )\n}\n\nexport default TextInput\n","import React from 'react'\nimport style from './img-input.module.scss'\nimport cn from 'classnames'\n\ninterface IProps {\n  name: string\n  editing: boolean\n  onDataChange: (name: string, url: any) => void\n  img: string | undefined\n}\n\nconst ImgInput = (props: IProps) => {\n  const { name, editing, onDataChange, img } = props\n  const onImgUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const input = e.target\n    const reader = new FileReader()\n\n    reader.onload = () => {\n      const url = reader.result\n      onDataChange(name, url)\n    }\n\n    input.files && reader.readAsDataURL(input.files[0])\n  }\n\n  const noImage = process.env.PUBLIC_URL + '/no-img.svg'\n\n  return (\n    <div className={style.wrapper}>\n      <label className={cn(style.label, { [style.active]: editing })}>\n        <input\n          type='file'\n          name='img'\n          id='img-input'\n          className={style.input}\n          onChange={onImgUpload}\n          disabled={!editing}\n        />\n      </label>\n      <img src={img || noImage} alt={name} className={style.img} />\n    </div>\n  )\n}\n\nexport default ImgInput\n","import React from 'react'\nimport style from './book-form.module.scss'\n\ninterface IProps {\n  editing: boolean\n  creating: boolean\n  setEditing: (arg: boolean) => void\n  onAdd: () => void\n  onUpdate: () => void\n}\n\nconst Controls = (props: IProps) => {\n  const { editing, creating, setEditing, onAdd, onUpdate } = props\n\n  if (creating) {\n    return (\n      <button type='button' onClick={onAdd} className={style.btn}>\n        Добавить книгу\n      </button>\n    )\n  } else if (editing) {\n    return (\n      <button type='button' onClick={onUpdate} className={style.btn}>\n        Сохранить изменения\n      </button>\n    )\n  } else {\n    const onSetEditing = () => setEditing(true)\n    return (\n      <button type='button' onClick={onSetEditing} className={style.btn}>\n        Редактировать книгу\n      </button>\n    )\n  }\n}\n\nexport default Controls\n","const authorValidation = (value: string) => {\n  const regexp = /[A-Z]/gi\n  return regexp.test(value)\n}\n\nexport default authorValidation\n","const descValidation = (value: string) => {\n  const regexp = /[A-Z]/gi\n  return regexp.test(value)\n}\n\nexport default descValidation\n","const ISBNValidation = (value: string) => {\n  // const regexp = /^(?:ISBN(?:-1[03])?:? )?(?=[0-9X]{10}$|(?=(?:[0-9]+[- ]){3})\n  // [- 0-9X]{13}$|97[89][0-9]{10}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)\n  // (?:97[89][- ]?)?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9X]$/\n  const regexp = /^\\d{4}$/\n  return regexp.test(value)\n}\n\nexport default ISBNValidation\n","const titleValidation = (value: string) => {\n  const regexp = /[A-Z]/gi\n  return regexp.test(value)\n}\n\nexport default titleValidation\n","const yearValidation = (value: string) => {\n  const regexp = /^\\d{4}$/\n  return regexp.test(value)\n}\n\nexport default yearValidation\n","import React, { useEffect, useState, useContext } from 'react'\nimport TextInput from '../text-input'\nimport ImgInput from '../img-input'\nimport BookContext, { IBook } from 'Context/book-context'\nimport Rating from '../rating'\nimport Controls from './controls'\nimport style from './book-form.module.scss'\nimport {\n  authorValidation,\n  descValidation,\n  ISBNValidation,\n  titleValidation,\n  yearValidation,\n} from './validations'\n\nimport { History } from 'history'\n\ninterface IProps {\n  data?: IBook\n  creating?: boolean\n  history: History\n}\n\nconst nullData = {\n  title: '',\n  description: '',\n  author: '',\n  ISBN: '',\n  year: '',\n  cover: undefined,\n  id: 0,\n  rating: undefined,\n}\n\nconst BookForm = (props: IProps) => {\n  const { data = nullData, creating = false, history } = props\n\n  const [editing, setEditing] = useState(creating)\n  const [state, setState] = useState(data)\n  const [valid, setValid] = useState({\n    title: true,\n    description: true,\n    ISBN: true,\n    author: true,\n    year: true,\n  })\n  const context = useContext(BookContext)\n\n  useEffect(() => {\n    setState(data)\n  }, [data])\n\n  const onDataChange = (name: string, value: string | number) => {\n    const temp = { ...state, [name]: value }\n    setState(temp)\n  }\n\n  const validateFields = () => {\n    return {\n      author: authorValidation(state.author),\n      description: descValidation(state.description),\n      ISBN: ISBNValidation(state.ISBN),\n      title: titleValidation(state.title),\n      year: state.year ? yearValidation(state.year) : true,\n    }\n  }\n\n  const onAdd = () => {\n    const checkObj = validateFields()\n    const error = Object.values(checkObj).some((check) => check === false)\n    if (!error) {\n      context.addBook(state)\n      history.push(`/`)\n    } else {\n      setValid(checkObj)\n    }\n  }\n\n  const onUpdate = () => {\n    const checkObj = validateFields()\n    const error = Object.values(checkObj).some((check) => check === false)\n    if (!error) {\n      state.id && context.updateBook(state, state.id)\n      history.push(`/`)\n    } else {\n      setValid(checkObj)\n    }\n  }\n\n  return (\n    <form className={style.form}>\n      <ImgInput\n        img={state.cover}\n        name='cover'\n        editing={editing}\n        onDataChange={onDataChange}\n      />\n      <TextInput\n        name='title'\n        data={state.title}\n        editing={editing}\n        onDataChange={onDataChange}\n        valid={valid.title}\n        placeholder='Title'\n      />\n      <TextInput\n        name='description'\n        data={state.description}\n        editing={editing}\n        onDataChange={onDataChange}\n        valid={valid.description}\n        placeholder='Description'\n      />\n      <TextInput\n        name='author'\n        data={state.author}\n        editing={editing}\n        onDataChange={onDataChange}\n        valid={valid.author}\n        placeholder='Author'\n      />\n      <TextInput\n        name='ISBN'\n        data={state.ISBN}\n        editing={editing}\n        onDataChange={onDataChange}\n        valid={valid.ISBN}\n        placeholder='1234'\n      />\n      <TextInput\n        name='year'\n        data={state.year}\n        editing={editing}\n        onDataChange={onDataChange}\n        valid={valid.year}\n        placeholder='2000'\n      />\n      <Rating\n        value={state.rating}\n        editing={editing}\n        onDataChange={onDataChange}\n      />\n      <Controls\n        creating={creating}\n        editing={editing}\n        setEditing={setEditing}\n        onAdd={onAdd}\n        onUpdate={onUpdate}\n      />\n    </form>\n  )\n}\n\nexport default BookForm\n","import React from 'react'\nimport BookForm from '../components/book-form'\nimport { History } from 'history'\n\ninterface IProps {\n  history: History\n}\n\nconst AddBook = (props: IProps) => {\n  return <BookForm creating={true} history={props.history} />\n}\n\nexport default AddBook\n","import React, { useState, useContext, useEffect } from 'react'\nimport BookForm from '../components/book-form'\nimport BookContext, { IBook } from 'Context/book-context'\nimport { RouteComponentProps } from 'react-router'\n\ninterface IProps extends RouteComponentProps<MatchParams> {}\n\ntype MatchParams = {\n  id: string\n}\n\nconst Book = (props: IProps) => {\n  const [book, setBook] = useState<IBook | null>(null)\n  const context = useContext(BookContext)\n  const id = props.match.params.id\n\n  useEffect(() => {\n    const temp = context.books.find((item) => Number(item.id) === Number(id))\n    temp && setBook(temp)\n  }, [context.books, id])\n\n  return book && <BookForm data={book} history={props.history} />\n}\n\nexport default Book\n","import React, { useState, useEffect } from 'react'\nimport { Route, Switch } from 'react-router-dom'\nimport BookContext, { IBook } from 'Context/book-context'\nimport Nav from '../components/nav'\nimport Main from '../pages/main'\nimport AddBook from '../pages/add-book'\nimport Book from '../pages/book'\nimport style from './app.module.scss'\n\nconst App = () => {\n  const [books, setBooks] = useState<IBook[] | []>([])\n  const [currentId, setCurrentId] = useState(0)\n\n  const fetchBooks = async () => {\n    const url = process.env.PUBLIC_URL + '/books.json'\n    const { books } = await fetch(url).then((res) => res.json())\n    return books\n  }\n\n  const getLocalBooks = () => {\n    const cachedHits = localStorage.getItem(`books`)\n    const temp = cachedHits ? JSON.parse(cachedHits) : null\n    return temp\n  }\n\n  const addBook = (data: IBook) => {\n    const temp = [...books]\n    const newBook = { ...data, id: currentId }\n    temp.push(newBook)\n    setCurrentId(currentId + 1)\n    setBooks(temp)\n    localStorage.setItem(`books`, JSON.stringify(temp))\n  }\n\n  const updateBook = (data: IBook, id: number) => {\n    const index = books.findIndex((book) => book.id === id)\n    const temp = [...books.slice(0, index), data, ...books.slice(index + 1)]\n    setBooks(temp)\n    localStorage.setItem(`books`, JSON.stringify(temp))\n  }\n\n  useEffect(() => {\n    const getBooks = async () => {\n      let newBooks = getLocalBooks()\n\n      if (!newBooks) {\n        newBooks = await fetchBooks()\n      }\n\n      setBooks(newBooks)\n      const idx = newBooks[newBooks.length - 1].id + 1\n      setCurrentId(idx)\n    }\n\n    getBooks()\n  }, [])\n\n  return (\n    <BookContext.Provider value={{ books, updateBook, addBook }}>\n      <div className={style.wrapper}>\n        <header className={style.header}>\n          <Nav />\n        </header>\n        <main>\n          <Switch>\n            <Route exact={true} path='/' component={Main} />\n            <Route path='/add-book' component={AddBook} />\n            <Route path='/:id' component={Book} />\n          </Switch>\n        </main>\n      </div>\n    </BookContext.Provider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\n\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './app'\n\nReactDOM.render(\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}